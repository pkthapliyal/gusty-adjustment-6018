<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Appointments</title>
    <link rel="stylesheet" href="./client.appointment.css" />
</head>

<body>
    <nav class="navbar">
        <!-- Navigation bar content goes here -->
        <div class="navbar-brand">Appointments</div>
    </nav>
    <div class="appointment-container">
        <!-- Appointment cards will be dynamically added here -->
    </div>

    <div id="contanier">

        <table id="recipt">
            <tr id="row">
                <th>Sr. No.</th>
                <th>Name</th>
                <th>Lawyer Name</th>
                <th>Subject</th>
                <th>Details</th>
                <th>Date</th>
                <th>Timing</th>
                <th>Status</th>
            </tr>

            <tbody id="elements">

                <!-- append item bill here -->

            </tbody>

        </table>



    </div>


</body>

<script>
    const url = "http://localhost:3300/appointment/";
    let lawyerId = "64b7aeb4b924df161bcffe81";
    let clientId = "64bc197815c8c689c0d8b0aa";



    fetch(`${url}/${lawyerId}/${clientId}`, {
        method: "GET",
        mode: "cors",
        headers: {
            "Content-Type": "application/json"
        }
    })
        .then((res) => {
            return res.json();
        }).then((data) => {
            console.log(data)
            data = data.data;
            showUsers(data)
        }).catch((err) => {
            console.log(err)
        })

    let Tbody = document.getElementById("elements")

    function showUsers(data) {
        let Serial = 1
        data.forEach((e, index) => {
            console.log(e.lawyerName)

            let row = document.createElement("tr")

            let Sr = document.createElement("td")
            let Name = document.createElement("td")
            let lawyerName = document.createElement("td")
            let subject = document.createElement("td")
            let details = document.createElement("td")
            let date = document.createElement("td")
            let slot = document.createElement("td")
            let isResolved = document.createElement("td")
            let isRechduled = document.createElement("td")

            Sr.innerText = Serial;

            Name.innerText = e.appointments.name
            lawyerName.innerText = e.lawyerName.name
            subject.innerText = e.appointments.subject
            details.innerText = e.appointments.details
            date.innerText = e.appointments.date
            slot.innerText = e.appointments.time
            isResolvedfalse = e.appointments.isResolved

            row.append(Sr, Name, lawyerName, subject, details, date,
                slot, isResolved)
            Tbody.append(row)
            Serial++

            row.setAttribute("id", "row")

        })
    }






</script>

</html>